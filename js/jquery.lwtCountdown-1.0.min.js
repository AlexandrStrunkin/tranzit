(function(b){b.fn.countDown=function(a){config={};b.extend(config,a);diffSecs=this.setCountDown(config);config.onComplete&&b.data(b(this)[0],"callback",config.onComplete);config.omitWeeks&&b.data(b(this)[0],"omitWeeks",config.omitWeeks);b("#"+b(this).attr("id")+" .digit").html('<div class="top"></div><div class="bottom"></div>');b(this).doCountDown(b(this).attr("id"),diffSecs,500);return this};b.fn.stopCountDown=function(){clearTimeout(b.data(this[0],"timer"))};b.fn.startCountDown=function(){this.doCountDown(b(this).attr("id"),
    b.data(this[0],"diffSecs"),500)};b.fn.setCountDown=function(a){var c=new Date;a.targetDate?c=new Date(a.targetDate.month+"/"+a.targetDate.day+"/"+a.targetDate.year+" "+a.targetDate.hour+":"+a.targetDate.min+":"+a.targetDate.sec+(a.targetDate.utc?" UTC":"")):a.targetOffset&&(c.setFullYear(a.targetOffset.year+c.getFullYear()),c.setMonth(a.targetOffset.month+c.getMonth()),c.setDate(a.targetOffset.day+c.getDate()),c.setHours(a.targetOffset.hour+c.getHours()),c.setMinutes(a.targetOffset.min+c.getMinutes()),
    c.setSeconds(a.targetOffset.sec+c.getSeconds()));diffSecs=Math.floor((c.valueOf()-(new Date).valueOf())/1E3);b.data(this[0],"diffSecs",diffSecs);return diffSecs};b.fn.doCountDown=function(a,c,d){$this=b("#"+a);0>=c&&(c=0,b.data($this[0],"timer")&&clearTimeout(b.data($this[0],"timer")));secs=c%60;mins=Math.floor(c/60)%60;hours=Math.floor(c/60/60)%24;days=1!=b.data($this[0],"omitWeeks")?Math.floor(c/60/60/24):Math.floor(c/60/60/24)%7;weeks=Math.floor(c/60/60/24/7);$this.dashChangeTo(a,"seconds_dash",
    secs,d?d:800);$this.dashChangeTo(a,"minutes_dash",mins,d?d:1200);$this.dashChangeTo(a,"hours_dash",hours,d?d:1200);$this.dashChangeTo(a,"days_dash",days,d?d:1200);$this.dashChangeTo(a,"weeks_dash",weeks,d?d:1200);b.data($this[0],"diffSecs",c);0<c?(e=$this,t=setTimeout(function(){e.doCountDown(a,c-1)},1E3),b.data(e[0],"timer",t)):(cb=b.data($this[0],"callback"))&&b.data($this[0],"callback")()};b.fn.dashChangeTo=function(a,c,d,g){$this=b("#"+a);for(a=$this.find("."+c+" .digit").length-1;0<=a;a--){var f=
    d%10;d=(d-f)/10;$this.digitChangeTo("#"+$this.attr("id")+" ."+c+" .digit:eq("+a+")",f,g)}};b.fn.digitChangeTo=function(a,c,d){d||(d=800);b(a+" div.top").html()!=c+""&&(b(a+" div.top").css({display:"none"}),b(a+" div.top").html(c?c:"0").slideDown(d),b(a+" div.bottom").animate({height:""},d,function(){b(a+" div.bottom").html(b(a+" div.top").html());b(a+" div.bottom").css({display:"block",height:""});b(a+" div.top").hide().slideUp(10)}))}})(jQuery);